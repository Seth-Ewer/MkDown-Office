@page "/"
@using MkDownOffice.Models
@using MkDownOffice.Shared
@inject ViewModel _viewModel

<style>

  .content {
    height: 100%;
  }

  .CodeMirror-wrap {
    flex-grow:initial;
  }
  .EasyMDEContainer {
    height:100%;
    flex-direction:column;
  }
</style>

<MarkdownEditor @bind-Value="@currentMarkdown" Theme="github" />

@code {
  MarkdownFile _file;
  string currentMarkdown 
  { 
    get => _file?.Markdown ?? ""; 
    set => _file.Markdown = value; 
  }

  protected override async Task OnInitializedAsync()
  {
    await _viewModel.SetCurrentFile("D:\\GitHub\\MkDown-Office\\Design\\core-architecture-classes.md");
    this._file = _viewModel.CurrentFile;
    await base.OnInitializedAsync();
  }
}